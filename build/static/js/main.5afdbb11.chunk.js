(this["webpackJsonpsnow-woke"]=this["webpackJsonpsnow-woke"]||[]).push([[0],{15:function(e,t,r){},17:function(e,t,r){"use strict";r.r(t);var i=r(1),s=r.n(i),n=r(8),a=r.n(n),c=r(3),o=r(2),l=r(5),d=r.n(l),u=(r(15),r(0)),m=function(){return Object(u.jsx)("div",{className:"header",children:Object(u.jsx)("p",{className:"headerTitle",children:"SnoWoke"})})},h=function(e){var t=e.resorts,r=e.changePage,i=e.currentPage,s=e.closePopUps,n=function(e){return e===i?"#1e3a5c":""};return Object(u.jsxs)("div",{className:"footer",onClick:function(){s()},children:[Object(u.jsx)("i",{className:"fas fa-mountain menuIcon",title:"Resorts",onClick:function(){return r("Resorts")},style:{color:n("Resorts")}}),t.length>0&&Object(u.jsx)("i",{className:"fas fa-bell menuIcon",title:"Alarms",onClick:function(){return r("Alarms")},style:{color:n("Alarms")}}),t.length>0&&Object(u.jsx)("i",{className:"fas fa-snowflake menuIcon",title:"Forecast",onClick:function(){r("Forecast")},style:{color:n("Forecast")}}),t.length>0&&Object(u.jsx)("i",{className:"fas fa-map menuIcon",title:"Map",onClick:function(){return r("Map")},style:{color:n("Map")}})]})},p=r(9),j=function(e){var t=e.resort,r=e.showResort,i=e.removeResort,s=e.setPage;return Object(u.jsxs)("div",{className:"resort",children:[Object(u.jsxs)("div",{className:"resortTitle",onClick:function(){r(t)},children:[Object(u.jsx)("h4",{children:t.name}),Object(u.jsx)("p",{children:Array.isArray(t.regions)?t.regions[0].area:t.regions.region.area})]}),Object(u.jsxs)("div",{className:"resortIcons",children:[Object(u.jsx)("i",{className:"deleteIcon fas fa-trash-alt",onClick:function(){return i(t.id)}}),Object(u.jsx)("i",{className:Object.keys(t.alarms).length>0?"alarmIcon alarmOn fas fa-bell":"alarmIcon fas fa-bell",onClick:function(){s("Alarms")}})]})]})},w=function(e){var t=e.resorts,r=e.setResorts,s=e.openSearch,n=e.setOpenSearch,a=e.setSearchInput,l=e.searchInput,m=e.setResortInfo,h=e.setPage,w=Object(i.useState)([]),f=Object(o.a)(w,2),b=f[0],v=f[1],O={data:{request:[{query:"",type:""}],weather:[{astronomy:[null],bottom:[{maxtempC:"",maxtempF:"",mintempC:"",mintempF:""}],chanceofsnow:"",date:"NOT CHECKED",hourly:[{bottom:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],cloudcover:"",freezeLevel:"",humidity:"",mid:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],precipInches:"",precipMM:"",pressure:"",pressureInches:"",snowfall_cm:"",time:"",top:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],visibility:"",visibilityMiles:""},{bottom:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],cloudcover:"",freezeLevel:"",humidity:"",mid:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],precipInches:"",precipMM:"",pressure:"",pressureInches:"",snowfall_cm:"",time:"",top:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],visibility:"",visibilityMiles:""},{bottom:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],cloudcover:"",freezeLevel:"",humidity:"",mid:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],precipInches:"",precipMM:"",pressure:"",pressureInches:"",snowfall_cm:"",time:"",top:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],visibility:"",visibilityMiles:""},{bottom:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:"Suny"}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],cloudcover:"",freezeLevel:"",humidity:"",mid:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],precipInches:"",precipMM:"",pressure:"",pressureInches:"",snowfall_cm:"",time:"",top:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],visibility:"",visibilityMiles:""},{bottom:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],cloudcover:"",freezeLevel:"",humidity:"",mid:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],precipInches:"",precipMM:"",pressure:"",pressureInches:"",snowfall_cm:"",time:"",top:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],visibility:"",visibilityMiles:""},{bottom:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],cloudcover:"",freezeLevel:"",humidity:"",mid:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],precipInches:"",precipMM:"",pressure:"",pressureInches:"",snowfall_cm:"",time:"",top:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],visibility:"10",visibilityMiles:"6"},{bottom:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],cloudcover:"",freezeLevel:"",humidity:"",mid:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],precipInches:"",precipMM:"",pressure:"",pressureInches:"",snowfall_cm:"",time:"",top:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],visibility:"",visibilityMiles:""},{bottom:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],cloudcover:"",freezeLevel:"",humidity:"",mid:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],precipInches:"",precipMM:"",pressure:"",pressureInches:"",snowfall_cm:"",time:"",top:[{tempC:"",tempF:"",weatherCode:"",weatherDesc:[{value:""}],weatherIconUrl:[{value:""}],winddir16Point:"",winddirDegree:"",windspeedKmph:"",windspeedMiles:""}],visibility:"",visibilityMiles:""}],mid:[{maxtempC:"",maxtempF:"",mintempC:"",mintempF:""}],top:[{maxtempC:"",maxtempF:"",mintempC:"",mintempF:""}],totalSnowfall_cm:""}]}};Object(i.useEffect)((function(){d.a.get("Resorts.json").then((function(e){v(e.data)})).catch((function(e){return alert("Error retrieving resorts.json")}))}),[]);var x=function(e){m(e),h("ResortInfo")},g=function(e){r((function(t){return t.filter((function(t){return t.id!==e}))}))},C=b.filter((function(e){return e.name.toLowerCase().includes(l.toLowerCase())})),N=function(e){var r;return t.forEach((function(t){t.id==e&&(r="includes")})),r};return Object(u.jsxs)("section",{className:"main resorts",children:[Object(u.jsxs)("div",{className:"resortList",children:[Object(u.jsx)("h1",{children:"Resorts"}),t.length>0?t.map((function(e){return Object(u.jsx)(j,{resort:e,showResort:x,removeResort:g,setPage:h},e.id)})):Object(u.jsxs)("p",{className:"noResortsAdded",children:["This app is designed to be used on a mobile device ",Object(u.jsx)("br",{}),"Add a resort using the + icon below"]})]}),Object(u.jsx)("i",{className:s?"circleMenuButton remove fas fa-plus":"circleMenuButton fas fa-plus",onClick:function(){s?(n(!1),a("")):n(!0)},title:"Add resort(s)"}),Object(u.jsxs)("div",{className:s?"slideUp addResort":"addResort",children:[Object(u.jsx)("input",{type:"text",className:"resortSearchBox",placeholder:"Enter a resort",onChange:function(e){a(e.target.value)}}),Object(u.jsx)("div",{className:"searchResults",children:l.length>0?C.map((function(e){return Object(u.jsx)("p",{onClick:function(){return function(e){if(!t.find((function(t){return t.id===e.id}))){var i=Object(c.a)(Object(c.a)({},e),{},{alarms:[],weather:O,lastCheck:0});r([].concat(Object(p.a)(t),[i])),m(i)}}(e)},className:N(e.id),children:e.name},e.id)})):""})]})]})},f=function(e){var t=e.resort,r=e.alarm,i=(e.showResort,e.removeResort,e.toggleAlarm),s=e.removeAlarm,n=e.forecastConditions;return Object(u.jsxs)("div",{className:r.toggled?"alarm":"alarm alarmOff",children:[Object(u.jsxs)("div",{className:"alarmTitle",onClick:function(){console.log("View alarm")},children:[Object(u.jsx)("h4",{children:t.name}),Object(u.jsx)("div",{className:"alarmDetails",children:Object(u.jsx)("p",{children:n.map((function(e){return r.value===e.value?e.title+" : "+r.limit:""}))})})]}),Object(u.jsxs)("div",{className:"alarmIcons",children:[Object(u.jsx)("i",{className:"deleteIcon fas fa-trash-alt",onClick:function(){s(t.id,r.id)}}),Object(u.jsx)("i",{className:r.toggled?"alarmToggle alarmToggleOn fas fa-toggle-on":"alarmToggle fas fa-toggle-on",onClick:function(){i(t.id,r.id)}})]})]})},b=function(e){var t=e.forecastConditions,r=e.conditions,i=e.setConditions;return Object(u.jsxs)("div",{className:"newAlarmCondition",children:[Object(u.jsx)("p",{children:"Weather condition:"}),Object(u.jsx)("select",{onChange:function(e){i(e.target.value)},id:"weather condition",value:r,children:t.map((function(e){return Object(u.jsx)("option",{value:e.value,children:e.title},e.title)}))})]})},v=function(e){var t=e.amount,r=e.setAmount,i=e.conditions,s=e.forecastConditions;return Object(u.jsxs)("div",{className:"newAlarmAmount",children:[Object(u.jsxs)("p",{children:["Units in",s.map((function(e){return e.value===i?" "+e.unit:""})),":"]}),"winddir16Point"===i?Object(u.jsx)("p",{children:"North=0 East=90 South=180 West=270"}):"",Object(u.jsx)("input",{type:"number",name:"amount",value:t,onChange:function(e){r(e.target.value)}})]})},O=function(e){var t=e.unit;return Object(u.jsx)("div",{className:"hour",children:(0==t&&(t="0"),t)})},x=function(e){var t=e.weather,r=e.title,i=e.param,s=e.hours,n=function(e){return Object.entries(e).filter((function(e){var t=Object(o.a)(e,2),r=t[0];t[1];return r===i}))[0][1]};return Object(u.jsxs)("div",{className:"hourlyDiv",children:[Object(u.jsx)("h3",{children:r}),Object(u.jsxs)("div",{className:r,children:[Object(u.jsxs)("div",{className:"hourly hours",children:[Object(u.jsx)("p",{children:"Time"}),s.map((function(e){return Object(u.jsx)(O,{unit:e},e)}))]}),Object(u.jsxs)("div",{className:"hourly",children:[Object(u.jsx)("p",{children:"Peak"}),t.hourly.map((function(e){return Object(u.jsx)(O,{unit:n(e.top[0])},Math.random())}))]}),Object(u.jsxs)("div",{className:"hourly",children:[Object(u.jsx)("p",{children:"Mid"}),t.hourly.map((function(e){return Object(u.jsx)(O,{unit:n(e.mid[0])},Math.random())}))]}),Object(u.jsxs)("div",{className:"hourly",children:[Object(u.jsx)("p",{children:"Base"}),t.hourly.map((function(e){return Object(u.jsx)(O,{unit:n(e.bottom[0])},Math.random())}))]})]})]})},g=function(e){var t=e.newAlarm,r=e.setNewAlarm,s=e.resort,n=e.resorts,a=e.setResorts,c=e.forecastConditions,l=Object(i.useState)(c[0].value),d=Object(o.a)(l,2),m=d[0],h=d[1],p=Object(i.useState)(null),j=Object(o.a)(p,2),w=j[0],f=j[1],O=function(){w?a((function(){return n.map((function(e){return e.id!==s.id?e:function(e){var t={id:e.alarms.length+1,toggled:!0,value:m,limit:w};return e.alarms.push(t),e}(e)}))})):alert("Please fill out all alarm details before submitting"),r(!1),h(c[0].value),f(null)},g=s.weather.data.weather[0],C=["12am","3am","6am","9am","12pm","3pm","6pm","9pm"];return Object(u.jsxs)("div",{className:t?"slideUp newAlarm":"newAlarm",children:[function(){if("totalSnowfall_cm"!==m&&"winddir16Point"!==m)return"windspeedKmph"===m||"tempC"===m?Object(u.jsx)(x,{weather:g,title:m,param:m,hours:C}):void 0}(),Object(u.jsxs)("div",{className:"newAlarmHeader",children:[Object(u.jsx)("h4",{children:"New Alarm"}),Object(u.jsx)("i",{className:"fas fa-times",title:"Exit",onClick:function(){r(!1)}})]}),Object(u.jsx)("h4",{children:s.name}),Object(u.jsxs)("div",{className:"newAlarmDetails",children:[Object(u.jsxs)("form",{action:"",children:[Object(u.jsx)(b,{forecastConditions:c,conditions:m,setConditions:h}),Object(u.jsx)(v,{forecastConditions:c,conditions:m,amount:w,setAmount:f})]}),Object(u.jsx)("i",{className:"fas fa-check",title:"Save this alarm",onClick:function(){O()}})]})]})},C=function(e){var t=e.resorts,r=e.setResorts,s=e.resort,n=e.setResortInfo,a=e.showList,l=e.setShowList,d=e.forecastConditions,m=Object(i.useState)(!1),h=Object(o.a)(m,2),p=h[0],j=h[1],w=function(e,t){r((function(r){return r.map((function(r){return r.id!==e?r:function(e){var r=e.alarms.map((function(e){return e.id!==t?e:Object(c.a)(Object(c.a)({},e),{},{toggled:!e.toggled})}));return Object(c.a)(Object(c.a)({},e),{},{alarms:r})}(r)}))}))},b=function(e,t){r((function(r){return r.map((function(r){return r.id!==e?r:function(e){var r=e.alarms.filter((function(e){return e.id!==t}));return Object(c.a)(Object(c.a)({},e),{},{alarms:r})}(r)}))}))};return Object(u.jsxs)("section",{className:"main alarms",children:[Object(u.jsxs)("div",{className:"alarmsList",children:[Object(u.jsx)("div",{className:p||a?"hidePage hidden":"hidePage"}),Object(u.jsx)("h1",{children:"Alarms"}),t.length>0?t.map((function(e){return e.alarms.length>0?e.alarms.map((function(t){return Object(u.jsx)(f,{resort:e,alarm:t,toggleAlarm:w,removeAlarm:b,forecastConditions:d},t.id)})):""})):Object(u.jsx)("p",{className:"noResortsAdded",children:"Add a resort using the + icon below"})]}),Object(u.jsx)("i",{className:a?"circleMenuButton remove fas fa-plus ":"circleMenuButton fas fa-plus ",style:p?{visibility:"hidden",opacity:"0"}:{visibility:"visible",opacity:"1"},title:"Add Alarm",onClick:function(){l(!a)}}),Object(u.jsx)("div",{className:a?"slideUp list":"list",children:t.map((function(e){return Object(u.jsx)("p",{onClick:function(){!function(e){n(e),l(!1),j(!0)}(e)},children:e.name},e.id)}))}),Object(u.jsx)(g,{resort:s,forecastConditions:d,resorts:t,setResorts:r,newAlarm:p,setNewAlarm:j})]})},N=function(e){var t=e.resort,r=e.weather;return Object(u.jsxs)("div",{className:"updated",children:["Last updated ",Math.floor((Date.now()-t.lastCheck)/6e4),1!==Math.floor((Date.now()-t.lastCheck)/6e4)?" minutes ":" minute ","ago on ",r.date]})},M=function(e){var t=e.weather,r=e.title,i=e.param,s=e.hours,n=function(e){return Object.entries(e).filter((function(e){var t=Object(o.a)(e,2),r=t[0];t[1];return r===i}))[0][1]};return Object(u.jsxs)("div",{className:"windDirection",children:[Object(u.jsx)("h3",{children:r}),Object(u.jsxs)("div",{className:r,children:[Object(u.jsxs)("div",{className:"hourly hours",children:[Object(u.jsx)("p",{children:"Time"}),s.map((function(e){return Object(u.jsx)(O,{unit:e},e)}))]}),Object(u.jsxs)("div",{className:"hourly unit",children:[Object(u.jsx)("p",{children:"Peak"}),t.hourly.map((function(e){return Object(u.jsx)(O,{unit:n(e.top[0])},Math.random())}))]})]})]})},I=function(e){var t=e.resort,r=e.resorts,i=e.setResort,s=function(e){var s=r.indexOf(t);"next"===e?s===r.length-1?i(r[0]):i(r[s+1]):"prev"===e&&i(0===s?r[r.length-1]:r[s-1])};return Object(u.jsxs)("div",{className:"forecastSelector",children:[r.length>1&&Object(u.jsx)("div",{className:"selectLeft",children:Object(u.jsx)("i",{className:"fas fa-arrow-left",onClick:function(){s("prev")}})}),Object(u.jsx)("div",{className:"forecastName",children:t.name}),r.length>1&&Object(u.jsx)("div",{className:"selectRight",children:Object(u.jsx)("i",{className:"fas fa-arrow-right",onClick:function(){s("next")}})})]})},y=function(e){var t=e.resort,r=e.setResort,i=e.resorts,s=e.forecastConditions,n=t.weather.data.weather[0],a=["12am","3am","6am","9am","12pm","3pm","6pm","9pm"];return Object(u.jsxs)("section",{className:"forecast main",children:[Object(u.jsx)("h1",{children:"Forecast"}),Object(u.jsx)(I,{resort:t,resorts:i,setResort:r}),t.lastCheck>0?Object(u.jsx)(N,{resort:t,weather:n,hours:a}):"Retrieving forecast, please wait",Object(u.jsxs)("h1",{children:["24h Chance of snow: ",n.chanceofsnow,"%"]}),n.chanceofsnow>0?Object(u.jsxs)("h1",{children:["Expected snowfall: ",n.totalSnowfall_cm,"cm"]}):"",s.filter((function(e){return"totalSnowfall_cm"!==e.value})).map((function(e){return"Wind Direction"==e.title?Object(u.jsx)(M,{title:e.title,weather:n,param:e.value,hours:a}):Object(u.jsx)(x,{title:e.title,weather:n,param:e.value,hours:a})}))]})},D=function(e){var t,r=e.resort,i=e.resortMap,s=e.resorts,n=e.setMap,a=e.showList,c=e.setShowList;return Object(u.jsxs)("section",{className:"main map",children:[Object(u.jsx)("div",{className:a?"hidePage hidden":"hidePage"}),Object(u.jsx)("h1",{children:"Maps"}),Object(u.jsx)("p",{children:r.name}),Object(u.jsx)("i",{className:"circleMenuButton fas fa-images",title:"Change Map",onClick:function(){c(!a)}}),Object(u.jsxs)("div",{className:"mapImage",children:[Object(u.jsx)("a",{href:i.original.url,target:"_blank",title:"Click to see large version",rel:"noreferrer",children:Object(u.jsx)("img",{src:(t=i,null==t.image.url?t.sizes[0].url:t.image.url),alt:r.name+" Map"})}),Object(u.jsx)("a",{className:"mapFooter",href:i.original.url,children:"Pinch to zoom or click to view high resolution"})]}),Object(u.jsx)("div",{className:a?"slideUp list":"list",children:s.map((function(e){return Object(u.jsx)("p",{onClick:function(){n(e)},children:e.name},e.id)}))})]})},k=function(e){var t=e.resort,r=e.viewMap,i=e.setPage;return Object(u.jsxs)("section",{className:"main resortInfo",children:[Object(u.jsx)("h1",{children:t.name}),Object(u.jsx)("h4",{children:Array.isArray(t.regions)?t.regions[0].area:t.regions.region.area}),Object(u.jsx)("a",{className:"resortWebsite",href:t.officialWebsite,children:t.officialWebsite}),Object(u.jsx)("a",{className:"viewMap",onClick:function(){r(t)},children:"View Map"}),Object(u.jsx)("a",{className:"viewForecast",onClick:function(){i("Forecast")},children:"View Forecast"})]})};var P=function(){var e=Object(i.useState)("Resorts"),t=Object(o.a)(e,2),r=t[0],s=t[1],n=Object(i.useState)([]),a=Object(o.a)(n,2),l=a[0],p=a[1],j=Object(i.useState)(""),f=Object(o.a)(j,2),b=f[0],v=f[1],O=Object(i.useState)(!1),x=Object(o.a)(O,2),g=x[0],N=x[1],M=Object(i.useState)(""),I=Object(o.a)(M,2),P=I[0],F=I[1],S=Object(i.useState)(""),A=Object(o.a)(S,2),R=A[0],U=A[1],K=Object(i.useState)(!1),L=Object(o.a)(K,2),_=L[0],E=L[1];Object(i.useEffect)((function(){var e=localStorage.getItem("resorts");e&&p(JSON.parse(e));var t=localStorage.getItem("resortInfo");t&&F(JSON.parse(t))}),[]),Object(i.useEffect)((function(){localStorage.setItem("resorts",JSON.stringify(l)),localStorage.setItem("resortInfo",JSON.stringify(P))})),Object(i.useEffect)((function(){l.length>0&&d.a.get("https://skimap.org/SkiAreas/view/".concat(P.id,".json")).then((function(e){U(e.data.ski_maps[0].media)})).catch((function(e){return alert("Unable to find map for ".concat(P.name))}))}),[P]),Object(i.useEffect)((function(){Date.now()-P.lastCheck>36e5?function(){var e=parseFloat(P.georeferencing.lat).toFixed(2),t=parseFloat(P.georeferencing.lng).toFixed(2);d.a.get("https://api.worldweatheronline.com/premium/v1/ski.ashx?key=".concat("9452199cce494ac2a42203118212706","&q=").concat(e,",").concat(t,"&format=json")).then((function(e){var t=Object(c.a)(Object(c.a)({},P),{},{weather:e.data,lastCheck:Date.now()});p((function(){return l.map((function(e){return e.id===t.id?t:e}))})),F(t)})).catch((function(e){return function(){alert("Unable to retrieve weather information for ".concat(P.name))}}))}():console.log("Weather info updated within the last hour")}),[r,P]);var W=function(e){F(e),E(!1),s("Map")},T=[{title:"24h Snowfall (cm)",value:"totalSnowfall_cm",unit:"cm"},{title:"Temperature (\xb0C)",value:"tempC",unit:"\xb0C"},{title:"Windspeed (Kmph)",value:"windspeedKmph",unit:"Kmph"},{title:"Wind Direction",value:"winddir16Point",unit:"degrees"}];return Object(u.jsx)("div",{className:"appWrapper",children:Object(u.jsxs)("div",{className:"snowWoke",children:[Object(u.jsx)(m,{}),function(e){switch(e){case"Resorts":return Object(u.jsx)(w,{resorts:l,setResorts:p,openSearch:g,setOpenSearch:N,setSearchInput:v,searchInput:b,setResortInfo:F,setPage:s});case"Alarms":return Object(u.jsx)(C,{resorts:l,setResorts:p,resort:P,setResortInfo:F,showList:_,setShowList:E,forecastConditions:T});case"Forecast":return Object(u.jsx)(y,{resort:P,setResort:F,resorts:l,forecastConditions:T});case"Map":return Object(u.jsx)(D,{resort:P,resortMap:R,resorts:l,setMap:W,showList:_,setShowList:E});case"ResortInfo":return Object(u.jsx)(k,{resort:P,viewMap:W,setPage:s})}}(r),Object(u.jsx)(h,{resorts:l,changePage:s,currentPage:r,closePopUps:function(){E(!1),N(!1)}})]})})};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(P,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.5afdbb11.chunk.js.map